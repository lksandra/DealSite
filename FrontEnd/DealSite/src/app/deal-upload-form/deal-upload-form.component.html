<div class="container">
  <h2>Deal Information</h2>
  <form [formGroup]="dealForm" (ngSubmit)="onSubmit()">
    <div class=form-group>
      <label>Advertiser Name</label>
      <input type="text" #refNameAn class="form-control" formControlName="advertiserName">
      <div *ngIf="(dealForm.controls['advertiserName'].errors)?.required && (dealForm.controls['advertiserName'].dirty || dealForm.controls['advertiserName'].touched)" class="alert">
          Advertiser name required!
      </div>
    </div>
    <div class=form-group>
      <label>Product Name</label>
      <input type="text" #refName2 class="form-control" formControlName="productName">
      <div *ngIf="(dealForm.controls['productName'].errors)?.required && (dealForm.controls['productName'].dirty || dealForm.controls['productName'].touched )" class="alert">
        Product name required!
      </div>
    </div>
    <div class=form-group>
      <label>Category Name</label>
      <input type="text" class="form-control" formControlName="categoryName">
      <div *ngIf="(dealForm.controls['categoryName'].errors)?.required && (dealForm.controls['categoryName'].dirty || dealForm.controls['categoryName'].touched)" class="alert">
          Category name required!
        </div>
    </div>
    <div class=form-group>
      <label>Product Description</label>
      <input type="text" class="form-control" formControlName="productDescription">
      <div *ngIf="(dealForm.controls['productDescription'].errors)?.required && (dealForm.controls['productDescription'].dirty || dealForm.controls['productDescription'].touched)" class="alert">
          Product Description required!
        </div>
    </div>
    <div class=form-group>
      <label>Deal Start Date</label>
      <input type="date" class="form-control" formControlName="dealStartDate">
      <div *ngIf="(dealForm.controls['dealStartDate'].errors)?.required && (dealForm.controls['dealStartDate'].dirty || dealForm.controls['dealStartDate'].touched)" class="alert">
          Deal Start Date required!
        </div>
    </div>
    <div class=form-group>
      <label>Deal End Date</label>
      <input type="date" class="form-control" formControlName="dealEndDate">
      <div *ngIf="(dealForm.controls['dealEndDate'].errors)?.required && (dealForm.controls['dealEndDate'].dirty || dealForm.controls['dealEndDate'].touched)" class="alert">
          Deal End Date required!
        </div>
    </div>
    
    <div class=form-group>
      <label>Currency</label>
      <input type="text" class="form-control" formControlName="currency">
    </div>
    <div class=form-group>
      <label>Price</label>
      <input type="number" class="form-control" formControlName="price">
      <div *ngIf="(dealForm.controls['price'].errors)?.required && (dealForm.controls['price'].dirty || dealForm.controls['price'].touched)" class="alert">
          price required!
        </div>
    </div>
    <div class=form-group>
      <label>Discount</label>
      <input type="number" class="form-control" formControlName="discount">
      <div *ngIf="(dealForm.controls['discount'].errors)?.required && (dealForm.controls['discount'].dirty || dealForm.controls['discount'].touched)" class="alert">
          Discount required!
        </div>
        <div *ngIf="(dealForm.controls['discount'].errors)?.min">
            Discount must be positive.
          </div>
    </div>
    <div class=form-group>
      <label>Link to Product</label>
      <input type="url" class="form-control" formControlName="url">
      <div *ngIf="(dealForm.controls['url'].errors)?.required && (dealForm.controls['url'].dirty || dealForm.controls['url'].touched)" class="alert">
          link for the product required!
        </div>
    </div>
    <button type="submit" [disabled]=(!dealForm.valid) class="btn btn-primary">Submit</button>
    <br>
    <br>
    Form-Status: 
    <br>
    {{dealForm.valid}}
    <br>
    Form-Value:
    <br>
    {{dealForm.value | json}}

  </form>

</div>